var twoway=function(a){function b(d){if(c[d])return c[d].exports;var e=c[d]={i:d,l:!1,exports:{}};return a[d].call(e.exports,e,e.exports,b),e.l=!0,e.exports}var c={};return b.m=a,b.c=c,b.d=function(a,c,d){b.o(a,c)||Object.defineProperty(a,c,{configurable:!1,enumerable:!0,get:d})},b.n=function(a){var c=a&&a.__esModule?function(){return a['default']}:function(){return a};return b.d(c,'a',c),c},b.o=function(a,b){return Object.prototype.hasOwnProperty.call(a,b)},b.p='',b(b.s=1)}([function(a,b){'use strict';b.a=class{constructor(a,b){this.element=a,this.model=a.getAttribute('data-model'),this.propertyName=a.getAttribute('data-model'),this.value=null,this.store=b}update(a){this.value!==a&&(this.value=a,this.store.store[this.propertyName]=this.value,this.emitUpdateToElement())}emitUpdateToElement(){const a=new CustomEvent('update',{detail:this.value});this.element.dispatchEvent(a)}}},function(a,b,c){'use strict';var d=c(2),e=function(a){return a&&a.__esModule?a:{default:a}}(d);(function(){function c(a,b){return new e.default(a,b).getStore()}'undefined'!=typeof a&&a.exports&&(b=a.exports=c),b.twoway=c})()},function(a,b,c){'use strict';Object.defineProperty(b,'__esModule',{value:!0});var d=c(3),e=c(4),f=c(6),g=c(7),h=c(8),i=c(9);b['default']=class{constructor(a,b){this.rootElementId=a,this.store=new e.a(b),this.views=[],this.init()}init(){this.initViews(),this.initInput(`${this.rootElementId} input[data-model]:not([type='radio']):not([type='checkbox'])`,f.a),this.initInput(`${this.rootElementId} textarea[data-model]`,f.a),this.initInput(`${this.rootElementId} select[data-model]`,i.a),this.initInput(`${this.rootElementId} input[type='radio'][data-model]`,h.a),this.initInput(`${this.rootElementId} input[type='checkbox'][data-model]`,g.a)}getStore(){return this.store.store}initViews(){const a=document.querySelectorAll(`${this.rootElementId} [data-property]`);for(let b=0;b<a.length;b++){const c=a[b];this.views.push(new d.a(c,this.store))}}initInput(a,b){const c=document.querySelectorAll(a);for(let d=0;d<c.length;d++){const a=c[d];this.views.push(new b(a,this.store))}}}},function(a,b){'use strict';b.a=class{constructor(a,b){if(this.element=a,this.value=null,this.store=b,this.model=a.getAttribute('data-property'),!this.model)throw new Error('No data-property found on element!');this.store.registerObserver(this.model,this)}update(a){this.value!==a&&(this.value=a,'object'==typeof this.value&&(this.value=JSON.stringify(a)),this.element.innerHTML=this.value)}}},function(a,b,c){'use strict';var d=c(5);b.a=class{constructor(a){this.scopedSubscribers={},this.store=this.observe(a,(a)=>{this.notifyObservers(a)})}observe(a,b){return Object(d.a)('',a,b)}notifyObservers(a){let b=a.split('.'),c='',d=this.store;for(let e=0;e<b.length;e++)c&&(c+='.'),d=d[b[e]],c=`${c}${b[e]}`,this._notifyProperty(c,d)}_notifyProperty(a,b){if(this.scopedSubscribers[a]){const c=this.scopedSubscribers[a].observers;for(let a=0;a<c.length;a++){const d=c[a];d.value!==b&&d.update(b)}}}registerObserver(a,b){this.scopedSubscribers[a]||(this.scopedSubscribers[a]={observers:[]}),this.scopedSubscribers[a].observers.push(b),this.notifyObservers(a)}}},function(a,b){'use strict';function c(a,b,d){if(0<b.length){let e=b.shift();a[e]=c(a[e],b,d)}else return d;return a}function d(a,b,e){return new Proxy(b,{set(b,d,f){const g=d.split('.');return b=c(b,g,f),e(`${a}${d}`,f),!0},get(b,c){const f=b[c];return f instanceof Object?d(`${a}${c}.`,f,e):f}})}b.a=d},function(a,b,c){'use strict';var d=c(0);class e extends d.a{constructor(a,b){super(a,b),this.element.addEventListener('change',(a)=>{this.update(a.target.value)}),this.element.addEventListener('keyup',(a)=>{this.update(a.target.value)}),this.store.registerObserver(this.propertyName,this)}update(a){super.update(a),this.element.value!==a&&(this.element.value=a)}}b.a=e},function(a,b,c){'use strict';var d=c(0);class e extends d.a{constructor(a,b){super(a,b),this.propertyName=`${this.model}.${this.element.value}`,this.element.addEventListener('change',(a)=>{this.update(a.target.checked)}),this.store.registerObserver(this.propertyName,this)}update(a){super.update(a),this.element.checked=a}}b.a=e},function(a,b,c){'use strict';var d=c(0);class e extends d.a{constructor(a,b){super(a,b),this.element.addEventListener('change',(a)=>{this.update(a.target.value)}),this.store.registerObserver(this.propertyName,this)}update(a){super.update(a),this.element.checked=this.element.value===a}}b.a=e},function(a,b){'use strict';b.a=class{constructor(a,b){this.isMulti=!1,this.element=a,this.model=a.getAttribute('data-model'),this.propertyName=a.getAttribute('data-model'),this.value=null,this.store=b,this.isMulti=null!==this.element.getAttribute('multiple'),this.element.addEventListener('change',(a)=>{this.onChange(a.target.value)}),this.store.registerObserver(this.propertyName,this);let c=this.getSelectedOptions();this.isMulti?this.value=c:(this.value=c.shift(),this.onChange(this.value))}getSelectedOptions(){let a=[];const b=this.element&&this.element.options;for(var c=0,d=b.length;c<d;c++){let d=b[c];d.selected&&a.push(d.value||d.text)}return a}onChange(a){this.isMulti?this.value=this.getSelectedOptions():this.store.store[this.propertyName]!==a&&(this.value=a),this.store.store[this.propertyName]=this.value,this.emitUpdateToElement()}update(a){if(this.isMulti){const d=this.element&&this.element.options;for(var b=0,c=d.length;b<c;b++){let c=d[b];c.selected=-1!==a.indexOf(c.value)}}else{const d=this.element&&this.element.options;for(var b=0,c=d.length;b<c;b++){let c=d[b];c.selected=a===c.value}}}emitUpdateToElement(){const a=new CustomEvent('update',{detail:this.value});this.element.dispatchEvent(a)}}}]);